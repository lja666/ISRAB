(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71852318"],{2088:function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recently",staticStyle:{width:"100%",height:"100%",padding:"8px"}},[e("Tabs",{staticClass:"tabCard",attrs:{type:"card"}},[e("TabPane",{attrs:{label:"地震"}},[e("Row",{staticClass:"rightContent",attrs:{gutter:16}},t._l(t.dataList.filter((function(t){return-1!==t.eventType.indexOf("dz")})),(function(a,r){return e("Col",{key:r+"ctt",staticClass:"rightCon",attrs:{span:"4"},nativeOn:{click:function(e){return t.changeEDM(a)}}},[e("div",{staticClass:"upimg"},[e("div",{staticClass:"upBox",class:t.eventList.filter((function(t){return t.id==a.id})).length>0?"EDMAct":""}),e("div",{staticClass:"downBox"},[e("img",{attrs:{src:n("af4b"),alt:"",srcset:""}})])]),e("div",[t._v("\n                        "+t._s(a.label)+"\n                    ")])])})),1)],1),e("TabPane",{attrs:{label:"台风"}},[e("Row",{staticClass:"rightContent",attrs:{gutter:16}},t._l(t.dataList.filter((function(t){return-1!==t.eventType.indexOf("tf")})),(function(a,r){return e("Col",{key:r+"ctt",staticClass:"rightCon",attrs:{span:"4"},nativeOn:{click:function(e){return t.changeEDM(a)}}},[e("div",{staticClass:"upimg"},[e("div",{staticClass:"upBox",class:t.eventList.filter((function(t){return t.id==a.id})).length>0?"EDMAct":""}),e("div",{staticClass:"downBox"},[e("img",{attrs:{src:n("af4b"),alt:"",srcset:""}})])]),e("div",[t._v("\n                        "+t._s(a.label)+"\n                    ")])])})),1)],1),e("TabPane",{attrs:{label:"洪水"}},[e("Row",{staticClass:"rightContent",attrs:{gutter:16}},t._l(t.dataList.filter((function(t){return-1!==t.eventType.indexOf("hs")})),(function(a,r){return e("Col",{key:r+"ctt",staticClass:"rightCon",attrs:{span:"4"},nativeOn:{click:function(e){return t.changeEDM(a)}}},[e("div",{staticClass:"upimg"},[e("div",{staticClass:"upBox",class:t.eventList.filter((function(t){return t.id==a.id})).length>0?"EDMAct":""}),e("div",{staticClass:"downBox"},[e("img",{attrs:{src:n("af4b"),alt:"",srcset:""}})])]),e("div",[t._v("\n                        "+t._s(a.label)+"\n                    ")])])})),1)],1)],1),e("Divider"),e("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[e("Button",{attrs:{type:"primary"},on:{click:t.submitEvent}},[t._v("确定")])],1)],1)},r=[],i=(n("456d"),n("ac6a"),{data:function(){return{eventList:[],dataList:[{id:"333",label:"iem-1",value:"iem",hrefUrl:"",mapUrl:"",eventType:"dz0",apiUrl:"/shm",nation:"China"},{id:"111",label:"iem-2",value:"iem2",hrefUrl:"XXXX",mapUrl:"",eventType:"dz1",apiUrl:"/shm",nation:"China"},{id:"444",label:"tf-1",value:"tf1",hrefUrl:"",mapUrl:"",eventType:"tf1",apiUrl:"/shm",nation:"China"}]}},computed:{},created:function(){localStorage.getItem("eventList")&&(this.eventList=JSON.parse(localStorage.getItem("eventList")))},mounted:function(){},methods:{changeEDM:function(t){var e=this.eventList.filter((function(e){return e.id==t.id})).length;e>=1?this.eventList=this.eventList.filter((function(e){return e.id!=t.id})):this.eventList.push(t)},groupBy:function(t,e){var n={};return t.forEach((function(t){var a=JSON.stringify(e(t));n[a]=n[a]||[],n[a].push(t)})),Object.keys(n).map((function(t){return n[t]}))},submitEvent:function(){0!=this.eventList.length?(localStorage.getItem("eventList")&&localStorage.removeItem("eventList"),localStorage.setItem("eventList",JSON.stringify(this.eventList)),this.$router.push({name:"riskDataPage"})):this.$Message.error("请选择风险暴露数据!")}}}),s=i,u=n("2877"),o=Object(u["a"])(s,a,r,!1,null,null,null);e["a"]=o.exports},"3cf8":function(t,e,n){"use strict";var a=function(){var t=this,e=t._self._c;return e("Form",{ref:"formValidate",staticClass:"newEDMBox",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":0}},[e("FormItem",{staticStyle:{display:"flex","justify-content":"center"}},[e("h2",{staticStyle:{color:"#3399ff"}},[t._v("新建风险暴露数据")])]),e("FormItem",{attrs:{prop:"companyName"}},[e("Input",{attrs:{placeholder:"公司名称"},model:{value:t.formValidate.companyName,callback:function(e){t.$set(t.formValidate,"companyName",e)},expression:"formValidate.companyName"}})],1),e("FormItem",{attrs:{prop:"edmName"}},[e("Input",{attrs:{placeholder:"风险暴露名称(不能含有特殊字符)"},model:{value:t.formValidate.edmName,callback:function(e){t.$set(t.formValidate,"edmName",e)},expression:"formValidate.edmName"}})],1),e("FormItem",{attrs:{prop:"fileName"}},[e("Input",{attrs:{placeholder:"上传文件"},scopedSlots:t._u([{key:"suffix",fn:function(){return[e("Upload",{attrs:{"before-upload":t.handleUpload,action:"http://172.16.3.4:8080/Assessment/importdata"}},[e("Icon",{attrs:{type:"ios-folder-open",color:"#EFCE4A"}})],1)]},proxy:!0}]),model:{value:t.formValidate.fileName,callback:function(e){t.$set(t.formValidate,"fileName",e)},expression:"formValidate.fileName"}})],1),e("FormItem",[t._v("\n        EDM 下载模板："),e("span",{staticClass:"aherfTxt"},[t._v("CSV EXCEL")]),e("Icon",{attrs:{type:"ios-help-circle-outline",size:"15"}})],1),e("FormItem",{staticStyle:{display:"flex","justify-content":"center"}},[e("Button",{on:{click:function(e){return t.handleReset("formValidate")}}},[t._v("重置")]),e("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("确定")])],1)],1)},r=[],i=(n("7f7f"),n("4714")),s={data:function(){return{file:null,formValidate:{companyName:"",edmName:"",fileName:""},ruleValidate:{companyName:[{required:!0,message:"公司名称不能为空",trigger:"blur"}],edmName:[{required:!0,message:"风险暴露名称不能为空",trigger:"blur"}],fileName:[{required:!0,message:"请上传文件",trigger:"blur"}]}}},methods:{handleUpload:function(t){return this.file=t,this.formValidate.fileName=t.name,!1},upLoad:function(){},handleSubmit:function(t){var e=this,n=new FormData;n.append("file",e.file),n.append("companyName",e.formValidate.companyName),n.append("edmName",e.formValidate.edmName),n.append("fileName",e.formValidate.fileName),Object(i["p"])(n,"/Assessment").then((function(t){var n=t.data;0==n.code?e.$Message.success("上传成功"):e.$Message.error(n.msg)})).catch((function(t){console.log(t)}))},handleReset:function(t){this.$refs[t].resetFields()}}},u=s,o=n("2877"),l=Object(o["a"])(u,a,r,!1,null,null,null);e["a"]=l.exports},4714:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"A",(function(){return u})),n.d(e,"x",(function(){return o})),n.d(e,"w",(function(){return l})),n.d(e,"j",(function(){return c})),n.d(e,"f",(function(){return m})),n.d(e,"B",(function(){return d})),n.d(e,"r",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"l",(function(){return g})),n.d(e,"v",(function(){return v})),n.d(e,"c",(function(){return x})),n.d(e,"C",(function(){return y})),n.d(e,"u",(function(){return b})),n.d(e,"q",(function(){return C})),n.d(e,"o",(function(){return _})),n.d(e,"h",(function(){return q})),n.d(e,"t",(function(){return N})),n.d(e,"z",(function(){return V})),n.d(e,"y",(function(){return L})),n.d(e,"g",(function(){return k})),n.d(e,"n",(function(){return w})),n.d(e,"s",(function(){return I})),n.d(e,"m",(function(){return M})),n.d(e,"k",(function(){return S})),n.d(e,"p",(function(){return E}));var a=n("66df"),r=function(t,e){return a["a"].axios2.request({url:"/iem"+e,params:t,method:"get"})},i=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/accgrp",params:t,method:"get"})},s=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/deleteacct",params:t,method:"get"})},u=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/updateacct",params:t,method:"get"})},o=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/selectacct",params:t,method:"get"})},l=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/portinfo",params:t,method:"get"})},c=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/getExposure",params:t,method:"get"})},m=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/deleteport",params:t,method:"get"})},d=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/validateport",params:t,method:"get"})},f=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/insertport",params:t,method:"get"})},p=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/getExposure",params:t,method:"get"})},h=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/deleteloc",params:t,method:"get"})},g=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/geocoding",params:t,method:"get"})},v=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/occ",params:t,method:"get"})},x=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/con",params:t,method:"get"})},y=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/yb",params:t,method:"get"})},b=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/ns",params:t,method:"get"})},C=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/insertloc",params:t,method:"get"})},_=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/trtydesc",params:t,method:"get"})},q=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/deletetreaty",params:t,method:"get"})},N=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/inserttreaty",params:t,method:"get"})},V=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/selecttreaty",params:t,method:"get"})},L=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/selectreinsinf",params:t,method:"get"})},k=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/deletereinsinf",params:t,method:"get"})},w=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/getpolicybyacct",params:t,method:"get"})},I=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/insertreinsinf",params:t,method:"get"})},M=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/getProject",params:t,method:"get"})},S=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/expsourestats",params:t,method:"get"})},E=function(t,e){return a["a"].axios2.request({url:"/iem"+e+"/importdata",data:t,method:"post"})}},af4b:function(t,e,n){t.exports=n.p+"img/doc.fc67b8a1.png"},ebc7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("Layout",{staticClass:"contentIndexBox"},[e("Sider",{style:{background:"#fff"},attrs:{"hide-trigger":""}},[e("Menu",{attrs:{"active-name":t.menuVal,theme:"dark",width:"auto","open-names":["dataUp"]},on:{"on-select":t.changeMenu}},[t._l(t.eventMenu,(function(n){return[n.children&&n.children.length>0?e("Submenu",{attrs:{name:n.value},scopedSlots:t._u([{key:"title",fn:function(){return[e("Icon",{attrs:{type:"ios-paper"}}),t._v("\n                        "+t._s(n.label)+"\n                    ")]},proxy:!0}],null,!0)},t._l(n.children,(function(n){return e("MenuItem",{key:n.value,attrs:{name:n.value}},[t._v("\n                        "+t._s(n.label)+"\n                    ")])})),1):e("MenuItem",{attrs:{name:n.value}},[t._v("\n                    "+t._s(n.label)+"\n                ")])]}))],2)],1),e("Layout",{style:{padding:"0 24px 24px"}},[e("Breadcrumb",{style:{margin:"24px 0"}},[e("BreadcrumbItem",[t._v("Monitoring")]),e("BreadcrumbItem",[t._v("数据导入")]),"dataDown"!=t.menuVal?e("BreadcrumbItem",[t._v(t._s("recently"==t.menuVal?"最近":"新建风险暴露"))]):t._e()],1),e("Content",{style:{minHeight:"280px",background:"#fff"}},[e("Card",[e(t.menuVal,{tag:"compoment"})],1)],1)],1)],1)},r=[],i=n("3cf8"),s=n("2088"),u={components:{newEDM:i["a"],recently:s["a"]},data:function(){return{menuVal:"recently",eventMenu:[{label:"数据导入",value:"dataUp",icon:"",children:[{label:"最近",value:"recently"},{label:"新建风险暴露",value:"newEDM"}]},{icon:"",label:"数据导出",value:"dataDown"}]}},computed:{eventList:function(){return this.$store.state.app.eventList}},watch:{},created:function(){},mounted:function(){},methods:{changeMenu:function(t){this.menuVal=t}}},o=u,l=n("2877"),c=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=c.exports}}]);